## Макросы

### Особенности ассоциативной памяти
Синтаксис языка *NewLang* основан на строгих правилах без использования ключевых слов, 
и как бы он не выглядел логичным, ассоциация по ключевым словам вспоминается гораздо легче, например **\if**,
чем комбинация *минус минус правая угловая скобка* **-->**. 
Из-за этого имеет смысл использовать не "чистый" базовый синтаксис, а более привычный диалект с использованием ключевых слов. 

### Синтаксис на ключевых словах
В файле dsl.nlp находится набор макросов, которые расширяют базовый синтаксис *NewLang*, основанный на правилах,
набором предопределенных ключевых слов как в классических языках программирования. 
А при необходимости, их можно адаптировать или дополнить под собственную предметную область.


## Константы
### Логические
- **\true**
- **\yes**
- **\false**
- **\no**

### Системные имена
- **\this** - Текущий объект (**$0**)
- **\parent** - Родительский объект (**$$**)
- **\args** - Все аргументы функции (**$\***)

- **\sys** - Системный контекст запущенной программы (**@@**)
- **\current** - Текущий модуль (**@$**)
- **\cmd** - Все аргументы выполняющегося приложения из командной строки (**@\***)

### Типовые функции и проверки 
- **\run('filename')** - Выполнить указанный файл (**@@('filename')**)
- **\ifmain** - Проверка, если текущий модуль основной (**[@$.$0] -->** { ... })
- **\ifload** - Проверка, если текущий модуль загружается впервые (**[@$.__load__] -->** { ... })

### Операторы
- **\match(cond)** - Оператор [оценки выражения](https://newlang.net/ops.html#оценка-выражения)
- **\if(...)** - Первый условный оператор (**[\\$*]-->** { ... })
- **\elif(...)** - Второй и все последующие (**,[\\$*]-->** { ... })
- **\else** - Оператор *иначе* (**,[_]-->** { ... })

- **\while(cond)** - Оператор цикла с предусловием (**[\\$cond] <->** { ... } )
- **\dowhile(cond)** - Оператор цикла с постусловием ({ ... } **<->[\\$cond]**)

- **\iter(obj, ... )** - Создание итератора ( **\\$obj** ? (\\$*) )
- **\next(obj, ... )** - Следующий элемент итератора ( **\\$obj** ! (\\$*) )
- **\curr(obj, ... )** - Текущий элемент итератора ( **\\$obj** !? (\\$*) )
- **\first(obj)** - Перейти на первый элемент итератора ( **\\$obj** !! )
- **\all(obj)** - Получить сразу все элементы итератора ( **\\$obj** ??)

### Прерывания
- **\return** - Положительное прерывание (**++**)
- **\return(value)**- Положительное прерывание с возвратом значения (**++** \\$value **++**) 

- **\error** - Отрицательное прерывание (**-\-**)
- **\error(value)** - Отрицательное прерывание с возвратом значения (**-\-** \\$value **-\-**)

- **\break+** и **\break-** - Выход из цикла:
```
    \while(...) {+
        ++ :Break ++   
    +}
    \while(...) {-
        -- :Break --
    -}
```
- **\continue+** и **\continue-** - В начало цикла:
```
    \while(...) {+
        ++ :Continue ++   
    +}
    \while(...) {-
        -- :Continue --
    -}
```



